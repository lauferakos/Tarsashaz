<div class="alert alert-success" role="alert" *ngIf="success">
  Sikeresen hozzáadtad a számlát!
</div>

<div class="container">
  <form [formGroup]="BillForm" (ngSubmit)="onSubmit(formDirective)" #formDirective="ngForm">
    <div class="bill">
      <h3><span class="badge badge-success">Alap adatok</span></h3>
      <div class="row">
        <div class="col-sm-12">

          <mat-form-field appearance="fill">
            <mat-label>Lakás</mat-label>
            <mat-select formControlName="flatId">
              <mat-option *ngFor="let flat of flats" [value]="flat.id">
                {{flat?.address.floor}}.emelet {{flat?.address.door}}.ajtó
              </mat-option>
            </mat-select>
          </mat-form-field>

        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">

          <mat-form-field appearance="fill">
            <mat-label>Számla típus</mat-label>
            <mat-select formControlName="type">
              <mat-option [value]="0">
                Víz
              </mat-option>
              <mat-option [value]="1">
                Áram
              </mat-option>
              <mat-option [value]="2">
                Fűtés
              </mat-option>
              <mat-option [value]="3">
                Közös költség
              </mat-option>
            </mat-select>
          </mat-form-field>

        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width">
            <mat-label>Összeg</mat-label>
            <input matInput formControlName="amount" type="number">
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="provider bill" formGroupName="provider">
      <h3><span class="badge badge-danger">Szolgáltató</span></h3>
      <div class="provider-address bill" formGroupName="address">
        <h3><span class="badge badge-warning">Cím</span></h3>
        <div class="row">
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Irányítószám</mat-label>
              <input matInput formControlName="postCode" type="number">
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Város</mat-label>
              <input matInput formControlName="city" type="text">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Út</mat-label>
              <input matInput formControlName="street" type="text">
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Házszám</mat-label>
              <input matInput formControlName="number" type="number">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Emelet</mat-label>
              <input matInput formControlName="floor" type="number">
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field class="example-full-width">
              <mat-label>Ajtó</mat-label>
              <input matInput formControlName="door" type="number">
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="provider-details bill">
        <h3><span class="badge badge-warning">Egyéb</span></h3>
        <div class="row">
          <div class="col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-label>Telefon</mat-label>
              <input matInput formControlName="phone" type="text">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-label>Email cím</mat-label>
              <input matInput formControlName="email" type="text">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <mat-form-field class="example-full-width">
              <mat-label>Bankszámla szám</mat-label>
              <input matInput formControlName="accountNum" type="number">
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
    <div class="bill-date bill" formGroupName="billDate">
      <h3><span class="badge badge-primary">Dátumok</span></h3>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width">
            <mat-label>Kiállítás dátuma</mat-label>
            <input matInput formControlName="startDate" type="date">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width">
            <mat-label>Elszámolás kezdete</mat-label>
            <input matInput formControlName="payoffStart" type="date">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width">
            <mat-label>Elszámolás vége</mat-label>
            <input matInput formControlName="payoffEnd" type="date">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width">
            <mat-label>Határidő</mat-label>
            <input matInput formControlName="deadline" type="date">
          </mat-form-field>
        </div>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12">
        <button mat-raised-button color="warn" type="submit" [disabled]="BillForm.invalid">
          Hozzáadás
        </button>
      </div>
    </div>
  </form>
</div>

